<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/public.css">
<style>

	table{
      border : 1px solid white;
   }
   
   td{
      width : 200px;
      height : 40px;
      text-align: center;
   }
   #row2{
      border : none;
      
   }
    
   select{
      width : 100%;
      hegith : 100%;
   }
   
   #td1{
   	width : 50px;
   }
</style>
<script>
window.onload = function(){
	form = document.selform;
	document.selform.data.focus();
}
	//입력한 값 가져오기
	function add(){
		//입력한 값 -> value -> text
		datavalue = form.data.value;
		//option태그 만들기 <option value="sdf">sdf</option>
		//value와 text속성 설정
		
		if(datavalue.trim().length>0){
		opt = document.createElement('option');
		opt.value = datavalue;
		opt.text = datavalue;
		}
		//left에 추가
		form.left.appendChild(opt);
		form.data.value="";
		form.data.focus();
	}
	
	function toRight(){ //오른쪽으로 보내기
		//왼쪽에서 한개를 선택
		idx = form.left.selectedIndex;
		console.log("idx = " + idx);
		//선택한 항목이 없으면 메세지창 띄우기
		if(idx<0){
			alert("항목을 선택하세요");
			return;
		}
		
		//왼쪽의 option에서 선택한 번째의 값을 가져온다
		lvalue = form.left.options[idx].value;
		//option태그를 생성
		opt = document.createElement('option');
		
		//value, text를 설정
		opt.value = lvalue;
		opt.text = lvalue;
		//오른쪽에 option태그를 추가
		form.right.appendChild(opt);
		//왼쪽에서는 삭제
		
		form.left.removeChild(form.left.options[idx]);
	}
	
	function rightAll() {
		   len = form.left.length;
		   
		   for(i = 0; i<len; i++){
		      lvalue = form.left.options[i].value;
		      
		      opt = document.createElement('option');
		      
		      opt.value = lvalue;
		      opt.text = lvalue;
		      
		      form.right.appendChild(opt);
		   }
		   //갯수만큼 지우기를 반복
		   for(i = 0; i<len; i++){
		      form.left.removeChild(form.left.options[0]);
		   }
		}
	
	function toLeft(){ //오른쪽으로 보내기
		//왼쪽에서 한개를 선택
		idx = form.right.selectedIndex;
		console.log("idx = " + idx);
		//선택한 항목이 없으면 메세지창 띄우기
		if(idx<0){
			alert("항목을 선택하세요");
			return;
		}
		
		//왼쪽의 option에서 선택한 번째의 값을 가져온다
		lvalue = form.right.options[idx].value;
		//option태그를 생성
		opt = document.createElement('option');
		
		//value, text를 설정
		opt.value = lvalue;
		opt.text = lvalue;
		//오른쪽에 option태그를 추가
		form.left.appendChild(opt);
		//왼쪽에서는 삭제
		
		form.right.removeChild(form.right.options[idx]);
	}
	
	function leftAll() {
		   len = form.right.length;
		   
		   for(i = 0; i<len; i++){
		      lvalue = form.right.options[i].value;
		      
		      opt = document.createElement('option');
		      
		      opt.value = lvalue;
		      opt.text = lvalue;
		      
		      form.left.appendChild(opt);
		   }
		   //갯수만큼 지우기를 반복
		   for(i = 0; i<len; i++){
		      form.right.removeChild(form.right.options[0]);
		   }
		}

</script>
</head>
<body>
<div class="box">
<form name="selform">
<br><br>
<table border="1">
<tr>
	<td class="a" colspan="3"> <h2>select 객체 예제</h2></td>
</tr>
<tr id="row2">
	<td>
	<select name="left" multiple="multiple" size=18>
	</select>
	</td>
	<td id="td1">
	<input type="button" value=">" onclick="toRight()"><br><br>
	<input type="button" value=">>" onclick="rightAll()"><br><br>
	<input type="button" value="<" onclick="toLeft()"><br><br>
	<input type="button" value="<<" onclick="leftAll()">
	
	</td>
	<td><select name="right" multiple="multiple" size=18>
	</select></td>
</tr>
<tr>
	<td class="a" colspan="3">
	<input type="text" name="data">
	<input type="button" value="추가하기" onclick="add()">
	</td>
</tr>

</table>


</form>


</div> 
</body>
</html>